\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
            width=9cm,
            height=9cm,
            axis y line=center,
            axis x line=middle,
            tick align=inside,
            xmin=-0.25,xmax=5.25,
            ymin=-0.25,ymax=5.25,
            ytick distance=1,
            xtick distance=1,
            xtick style={color=black,line width=0.5pt},
            ytick style={color=black,line width=0.5pt},
            % yticklabel style={right},
            xlabel=$x$,
            ylabel=$g(x)$,
            xlabel style={anchor=north west},
            ylabel style={anchor=south east}
        ]
        \foreach \i in {0,...,4} {
            \addplot [mark=*] coordinates {(\i,\i)};
            \addplot [
                smooth,
                thick,
                domain=\i : \i+0.95,
                samples=2000
            ] {\i};
            \addplot [mark=o] coordinates {(\i+1,\i)};
        }

        \addplot [mark=*,red] coordinates {(0.8, 0)};
        \addplot [mark=*,red] coordinates {(3.2, 3)};
        \addplot [red, thick, dashed] coordinates {(0.8, 0) (3.2, 3)};

        \addplot [black] coordinates {(4, 4)} node [above] {$g(x)=\lfloor x\rfloor$};
        \end{axis}
    \end{tikzpicture}
\end{figure}
