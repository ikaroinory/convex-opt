\pgfplotsset{compat=1.18}

\begin{tikzpicture}[every node/.style = {font = \tiny}]
    \begin{axis}[
        % compat=1.18,
        axis equal image,
        axis x line = middle,
        axis y line = center,
        tick align = inside,
        xmin = -3.25,
        xmax = 5.25,
        ymin = -3.25,
        ymax = 4.75,
        ytick distance = 2,
        xtick distance = 2,
        xtick style = {color = black, line width = 0.5pt},
        ytick style = {color=black,line width=0.5pt},
        xlabel = $x_1$,
        ylabel = $x_2$,
        xlabel style = {anchor = north west, font = \tiny},
        ylabel style = {anchor = west, font = \tiny},
        tick label style = {font = \tiny}
    ]
        \addplot [
            name path=B,
            smooth,
            domain=0:360,
            samples=500
        ] ({cos(x)+3}, {sin(x)+2});
        \addplot [
            name path=B,
            smooth,
            domain=0:atan(0.5),
            samples=500
        ] ({sqrt(5)*cos(x)}, {sqrt(5)*sin(x)});
        \addplot [
            smooth,
            domain=atan(0.5):360,
            samples=500
        ] ({sqrt(5)*cos(x)}, {sqrt(5)*sin(x)});
        \addplot [
            smooth,
            domain=-5:5,
            samples=500
        ] {2-0.5*x};

        \path[name path=A] (0, 2) -- (2, 1);
        \path[name path=endA] (0, 0) -- (2, 0);
        \path[name path=endB] (2, 0) -- ({sqrt(5)}, 0);

        \addplot [fill=red, fill opacity=0.3] fill between [of=A and endA];
        \addplot [fill=red, fill opacity=0.3] fill between [of=B and endB];

        \draw[red,->,>=stealth] (0, 0) -- (-1, 0) node[above] {$\nabla g_3$};
        \draw[red,->,>=stealth] (0, 0) -- (0, -1) node[right] {$\nabla g_4$};
        \draw[red,->,>=stealth] (0, 0) -- ({3 / sqrt(13)}, {2 / sqrt(13)});

        \draw[red,->,>=stealth] (2, 1) -- (4, 2) node[right] {$\nabla g_1$};
        \draw[red,->,>=stealth] (2, 1) -- (3, 3) node[right] {$\nabla g_2$};
        \draw[red,->,>=stealth] (2, 1) -- (3.5, 2.5);
    \end{axis}
\end{tikzpicture}
